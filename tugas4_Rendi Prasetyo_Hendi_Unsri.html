<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Form Pembelian Barang by R.P</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <style>
      .card {
        margin: 2rem;
      }
      .card-header {
        background-color: #334f55;
        font-size: 1.3rem;
        font-weight: bold;
      }
      /* responsive */
      @media screen and (max-width: 645px) {
        .card-header {
          background-color: #3e6833;
          font-size: 0.5rem;
          font-weight: bold;
          text-align: center;
        }
      }
    </style>
  </head>
  <body>
    <div class="card">
      <div class="card-header">
        PEMBELIAN BARANG DENGAN KONVERSI KURS (VALAS KE RUPIAH)
      </div>
      <div class="card-body">
          <form id="frm">
            <div class="mb-3 row">
              <label class="col-sm-2 col-form-label">Nama Pembeli</label>
              <div class="col-sm-10">
              <input type="text" class="form-control" name="nama">
              </div>
            </div>
            <div class="mb-3 row">
              <label class="col-sm-2 col-form-label">Nama Barang</label>
              <div class="col-sm-10">
              <input type="text" class="form-control" name="barang">
              </div>
            </div>
            <div class="mb-3 row">
              <label class="col-sm-2 col-form-label">Harga Barang</label>
              <div class="col-sm-10">
              <input type="text" class="form-control" name="harga">
              </div>
            </div>
            <div class="mb-3 row">
              <label class="col-sm-2 col-form-label">Jumlah Barang</label>
              <div class="col-sm-10">
              <input type="text" class="form-control" name="jumlah">
              </div>
            </div>
            <div class="mb-3 row">
              <label class="col-sm-2 col-form-label">Valuta Asing</label>
              <div class="col-sm-10">
                <select name="valas" onchange="javascript:konversiKurs()" class="form-control">
                  <option value="">
                    ------- Pilih Valas -------
                  </option>
                  <option value="14944">
                    USD - US Dollar
                  </option>
                  <option value="10595">
                    SGD - Dollar Singapore
                  </option>
                  <option value="14887">
                    EUR - Euro
                  </option>
                </select>
              </div>  
            </div>
          </form>
        </div>
    </div>
    <div class="card">
      <div class="card-header">
        DATA PEMBELIAN
      </div>
      <div class="card-body">
        <p class="card-text" id="isi">
          
        </p>
      </div>
    </div>
    <script>
      /*
      Hitunglah pembelian barang berdasarkan kurs valas yang dipilih.
      (Event Handle Js nya: onchange ketika pilih valas)
      Hasilnya ditempatkan pada paragraf yang ber-id-kan isi
      */
      function konversiKurs(){ 
        let naBel = document.getElementById('frm').nama.value;
        let naBar = document.getElementById('frm').barang.value;
        let haBar = document.getElementById('frm').harga.value;
        let jumBar = document.getElementById('frm').jumlah.value;
        let valSing = document.getElementById('frm').valas.value;
        let toBay = haBar * jumBar / parseInt(valSing);
        
        //simbol
        if(valSing == 14944) {
          simbol = '$';
        }else if(valSing == 10595) {
          simbol = 'S$';
        }else if(valSing == 14887) {
          simbol = 'â‚¬';
        }else{
          simbol = '';
        }
        
        total = simbol + toBay.toFixed(2);
        
        let hasil = `Nama pembeli : ${naBel} 
                     <br />
                     Nama barang : ${naBar} 
                     <br />
                     Harga barang : Rp. ${haBar} 
                     <br />
                     Jumlah barang : ${jumBar} 
                     <br />
                     Valuta Asing : ${valSing} 
                     <br />
                     Total Bayar : ${total}`
          function finish(){
            document.getElementById('isi').innerHTML = hasil;
          }
          //pesan error
          if(naBel == ''){
            mesError = alert('Anda belum input Nama pembeli!');
          }else if(naBar == ''){
            mesError = alert('Anda belum input Nama barang!');
          }else if(haBar == ''){
            mesError = alert('Anda belum input Harga barang!');
          }else if(jumBar == ''){
            mesError = alert('Anda belum input Jumlah barang!');
          }else if(valSing == ''){
            mesError = alert('Anda belum memilih jenis Valuta Asing!');
          }else{
            finish();
          }
      }
    </script>    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>
    </body> 
</html>